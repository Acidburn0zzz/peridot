<!-- Copyright 2016 The Fuchsia Authors. All rights reserved. -->

<dom-module id="tq-session-match">
    <template>
        <dl>
            <dt>Path Expression</dt>
            <dd>{{match.pathExpr}}<dd>
            <dt>Matched Edges</dt>
            <dd>
                <ul>
                    <template is="dom-repeat" items="{{match.edges}}" as="edge">
                        <li>
                            <tq-colored-text>[[edge.origin]]</tq-colored-text>
                            &rarr;
                            <tq-colored-text>[[edge.labels]]</tq-colored-text>
                            &rarr;
                            <tq-colored-text>[[edge.target]]</tq-colored-text>
                        </li>
                    </template>
                </ul>
            </dd>
        </dl>
    </template>
    <script>
    (function() {
      'use strict';

      Polymer({
        is: 'tq-session-match',
        properties: {
            match: Object
        }
      });
    })();
    </script>

</dom-module>

<dom-module id="tq-module-io">
    <template>
        <b>Recipe: </b> {{io.recipe}}<br>
        <b>Manifest: </b> {{io.manifest}}<br>
        <p>Matches:</b>
        <ul>
            <template is="dom-repeat" items="{{io.matches}}" as="match">
                <li>
                    <tq-session-match match="{{match}}"></tq-session-match>
                </li>
            </template>
        </ul>
    </template>
    <script>
    (function() {
      'use strict';

      Polymer({
        is: 'tq-module-io',
        properties: {
            io: Object
        }
      });
    })();
    </script>
</dom-module>

<dom-module id="tq-module">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }
    </style>

    <h2>Step</h2>
    <pre>{{json.step}}</pre>

    <h2>Inputs</h2>
    <template is="dom-repeat" items="{{json.inputs}}" as="io">
        <p><tq-module-io io="{{io}}"></p>
    </template>

    <h2>Outputs</h2>
    <template is="dom-repeat" items="{{json.outputs}}" as="io">
        <p><tq-module-io io="{{io}}"></p>
    </template>

    <h2>Instances</h2>
    <ul>
        <template is="dom-repeat" items="{{json.instances}}" as="instance">
            <li>
                <tq-module-instance-card json="[[instance]]"></tq-module-instance-card>
            </li>
        </template>
    </ul>

  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'tq-module',
        properties: {
          json: {
            type: Object,
          }
        },
      });

      inspectorElements['module'] = 'tq-module';
    })();
  </script>
</dom-module>
