<!-- Copyright 2016 The Fuchsia Authors. All rights reserved. -->

<dom-module id="tq-event-log">

  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }
      #most-recent-event {
        border: 1px solid var(--dark-primary-color);
        padding-top: 20px;
        margin-bottom: 20px;
        border-radius: 5px;
        background-color: #fff;
        color: #555;
        width: 100%;
      }
    </style>

    <div id="most-recent-event">
      <tq-event-record-card type="[[json.events.0.type]]" time="[[json.events.0.time]]" body="[[json.events.0.body]]"></tq-event-record-card>
    </div>

    <template is="dom-repeat" items="{{_getEventsAfterFirst(json.events)}}" as="event">
      <tq-event-record-card type="[[event.type]]" time="[[event.time]]" body="[[event.body]]"></tq-event-record-card>
    </template>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'tq-event-log',
        properties: {
          json: Object,
        },
        _getEventsAfterFirst: function(a) {
          return a.slice(1, a.length);
        }
      });

      inspectorElements['event-log'] = 'tq-event-log';
    })();
  </script>
</dom-module>
