#!mojo https://tq.mojoapps.io/handler.mojo

# From https://docs.google.com/document/d/1DXTq7BhCe9CT0IHovuIDzoAbxAeTI9zzeaFW2Zf69Z4/edit
title: Plan a day out with friends
verb: plan

recipe:
 - verb: pick
   output: person

 - verb: pick
   output: day -> date  # implicit entity creation, dynamic cardinality

 - scope: day
   output:
    - day -> (lunch meal)
    - day -> (dinner meal)  # entity creation

 - verb: pick
   scope: day -> meal
   output: day -> meal -> restaurant

 - verb: pick
   scope: day -> meal
   output: day -> meal -> time

 - verb: table-reserve
   scope: day -> meal
   input:
    - day -> meal {restaurant, time}
    - person+
   output: day -> meal -> table-reservation

use:
 - date: https://github.com/domokit/modular/wiki/semantic#date
 - day: https://github.com/domokit/modular/wiki/semantic#day
 - dinner: https://github.com/domokit/modular/wiki/semantic#dinner
 - lunch: https://github.com/domokit/modular/wiki/semantic#lunch
 - meal: https://github.com/domokit/modular/wiki/semantic#meal
 - person: https://github.com/domokit/modular/wiki/semantic#person
 - pick: http://wordnetweb.princeton.edu/perl/webwn?s=pick&i=9
 - plan: http://wordnetweb.princeton.edu/perl/webwn?s=plan&i=4
 - restaurant: https://github.com/domokit/modular/wiki/semantic#restaurant
 - table-reservation: https://github.com/domokit/modular/wiki/semantic#table-reservation
 - table-reserve: http://wordnetweb.princeton.edu/perl/webwn?s=reserve&i=9
 - time: https://github.com/domokit/modular/wiki/semantic#time
